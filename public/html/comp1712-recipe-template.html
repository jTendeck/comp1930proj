<!DOCTYPE html>
<html>
<head>
	<title>COMP1712 Recipe Template</title>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- <link rel = "stylesheet" type = "text/css" href = "../css/comp1712-recipes.css">  -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel = "stylesheet" type = "text/css" href = "../css/recipes.css"> 

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyDRXRFtmA4E8vfJu9Zom2cugen5rYkSLHA",
			authDomain: "in-season-1740a.firebaseapp.com",
			databaseURL: "https://in-season-1740a.firebaseio.com",
			projectId: "in-season-1740a",
			storageBucket: "in-season-1740a.appspot.com",
			messagingSenderId: "78195948126"
		};
		firebase.initializeApp(config);
	</script>

</head>

<body>

	<div class="navBar">

		<span class="logo" href="#home"><span class="logoFirstWord">git<b>Fud</b></span>
			
	</div>

	<div class="navDecoration"></div>

	<div class="bodyContainer">

		<div class="topnav" id="myTopnav">
  			<a id="recipeButton1">Recipe 1</a>
  			<a id="recipeButton2">Recipe 2</a>
  			<a id="recipeButton3">Recipe 3</a>
  			<a id="recipeButton4">Recipe 4</a>
  			<a id="recipeButton5">Recipe 5</a>
  			<a href="javascript:void(0);" class="icon" onclick="myFunction()">
   			<i class="fa fa-bars"></i>
  			</a>
		</div>

		<div class="recipeTop">

			<div class="pageLeft">
				<div>
					<div id="recipeTitle">Recipe Title</div>
					<div id ="recipeDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam laoreet in lectus a facilisis. Vestibulum tincidunt, diam non venenatis feugiat, mi ante cursus velit, quis mollis urna ipsum pharetra mi. Fusce a nunc libero. Vestibulum ante ipsum primis in faucibus.</div>
				</div>

				<div id="servCalAuthContainer">
					
				</div>
			</div>

			<div id="recipePic"><img src="images/recipes-backgroud.jpg" alt="Recipe image"><img></div>
		</div>

		<div>
			<h2>Ingredients</h2>
			<div id="ingdiv" class="ingredientsBody">
				<ul id="inglist">

				</ul>
			</div>
		</div>

		<div>
			<h2>Method</h2>
			<div id="stepDiv" class="methodBody">
				<ol id="stepList">

				</ol>
			</div>
		</div>

		<a id="nutriButton">Click for Nutrition info</a>
		<div id="table">
		<script src="https://www.powr.io/powr.js?platform=html"></script><div class="powr-reviews" id="f6627614_1554949170"></div>
		<!-- </div>
		<div class="container">
			<h2 class="text-center">Bootstrap 4 User Rating Form / Comment Form</h2>
			
			<div class="card">
				<div class="card-body">
					<div class="row">
						<div class="col-md-2">
							<img src="https://image.ibb.co/jw55Ex/def_face.jpg" class="img img-rounded img-fluid"/>
							
						</div>
						<div class="col-md-10">
							<p>
								<a class="float-left" href=""><strong>Brandon Vu</strong></a>
								<span class="float-right"><i class="text-warning fa fa-star"></i></span>
								<span class="float-right"><i class="text-warning fa fa-star"></i></span>
								<span class="float-right"><i class="text-warning fa fa-star"></i></span>
								<span class="float-right"><i class="text-warning fa fa-star"></i></span>
		
						   </p>
						   <div class="clearfix"></div>
							<p>Lorem Ipsum is simply dummy text of the pr make  but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
							<p>
								<a class="float-right btn btn-outline-primary ml-2"> <i class="fa fa-reply"></i> Reply</a>
								<a class="float-right btn text-white btn-danger"> <i class="fa fa-heart"></i> Like</a>
						   </p>
						</div>
					</div>
						<div class="card card-inner">
							<div class="card-body">
								<div class="row">
									<div class="col-md-2">
										<img src="https://image.ibb.co/jw55Ex/def_face.jpg" class="img img-rounded img-fluid"/>
										<p class="text-secondary text-center">15 Minutes Ago</p>
									</div>
									<div class="col-md-10">
										<p><a href=""><strong>Mike Choi</strong></a></p>
										<p>Lorem Ipsum is simply dummy text of the pr make  but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
										<p>
											<a class="float-right btn btn-outline-primary ml-2">  <i class="fa fa-reply"></i> Reply</a>
											<a class="float-right btn text-white btn-danger"> <i class="fa fa-heart"></i> Like</a>
									   </p>
									</div>
								</div>
							</div>
						</div>
				</div>
			</div>
		</div>
	</div> -->
	

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script>function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}</script>

<script>
		// CLICK FOR RECIPE 1
		document.getElementById("recipeButton1").addEventListener("click",
			function () {
				GetList("Famous_Salsa");
				GetMethod("Famous_Salsa");
				//console.log(GetList("Famous_Salsa"));
				GetDescription("Famous_Salsa");
				GetTitle("Famous_Salsa");
				document.getElementById("recipePic").innerHTML = "<img src='../images/Famous_Salsa_1.jpg'>";
			});
		// ClICK FOR RECIPE 2
		document.getElementById("recipeButton2").addEventListener("click",
			function () {
				GetList("Creamy Au Gratin Potatoes");
				GetMethod("Creamy Au Gratin Potatoes");
				GetDescription("Creamy Au Gratin Potatoes");
				GetTitle("Creamy Au Gratin Potatoes");
				document.getElementById("recipePic").innerHTML = "<img src='../images/Creamy_Au_Gratin_Potatoes_1.jpg'>";
			});
		// CLICK FOR RECIPE 3
		document.getElementById("recipeButton3").addEventListener("click",
			function () {
				GetList("Tomato_Basil_Soup");
				GetMethod("Tomato_Basil_Soup");
				GetDescription("Tomato_Basil_Soup");
				GetTitle("Tomato_Basil_Soup");
				document.getElementById("recipePic").innerHTML = "<img src='../images/Tomato_Basil_Soup_1.jpg'>";
			});
		// CLICK FOR RECIPE 4
		document.getElementById("recipeButton4").addEventListener("click",
			function () {
				GetList("Loaded Crack Potatoes");
				GetMethod("Loaded Crack Potatoes");
				GetDescription("Loaded Crack Potatoes");
				GetTitle("Loaded Crack Potatoes");
				document.getElementById("recipePic").innerHTML = "<img src='../images/Loaded_Crack_Potatoes_1.jpg'>";
			});
		// CLICK FOR RECIPE 5
		document.getElementById("recipeButton5").addEventListener("click",
			function () {
				GetList("Roasted Garlic Cauliflower");
				GetMethod("Roasted Garlic Cauliflower");
				GetDescription("Roasted Garlic Cauliflower");
				GetTitle("Roasted Garlic Cauliflower");
				document.getElementById("recipePic").innerHTML = "<img src='../images/Roasted_Garlic_Cauliflower_1.jpg'>";
			});


		// GETTING THE DATABASE LIST
		function GetList(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Ingredients/");
			var promise = dbref.once('value', function (snap) {
				list = snap.val();
				console.log(list);
			});
			promise.then(function () {
				DisplayList(list);
			});
		};
		// DISPLAY LIST INGREDIENTS
		function DisplayList(list) {
			var listDom = document.getElementById("inglist");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			for (x in list) {
				var item = document.createElement("li");
				listDom.appendChild(item);
				var node = document.createTextNode(list[x]);
				item.appendChild(node);
			}
		}

		// GETTING THE DATABASE LIST
		function GetMethod(Method) {
			var dbref = firebase.database().ref("Recipes/" + Method + "/Methods");
			var promise = dbref.once('value', function (snap) {
				list2 = snap.val();
				console.log(list2);
			});
			promise.then(function () {
				DisplayList2(list2);
			});
		};

		// DISPLAY LIST METHODS FOR RECIPES
		function DisplayList2(list2) {
			var listDom2 = document.getElementById("stepList");
			while (listDom2.hasChildNodes()) {
			listDom2.removeChild(listDom2.firstChild);
			}
			for (x in list2) {
				var item2 = document.createElement("li");
				listDom2.appendChild(item2);
				var node2 = document.createTextNode(list2[x]);
				item2.appendChild(node2);
			}
		}
		// GETTING THE DATABASE LIST
		function GetDescription(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Description");
			var promise = dbref.once('value', function (snap) {
				list3 = snap.val();
				console.log(list3);
			});
			promise.then(function () {
				DisplayList3(list3);
			});
		};

		// DISPLAY DESCRIPTION
		function DisplayList3(list3) {
			var listDom = document.getElementById("recipeDescription");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			var item = document.createElement("p");
			listDom.appendChild(item);
			var node = document.createTextNode(list3);
			item.appendChild(node);
		}

		// GETTING THE DATABASE LIST
		function GetTitle(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Title");
			var promise = dbref.once('value', function (snap) {
				list4 = snap.val();
				console.log(list4);
			});
			promise.then(function () {
				DisplayList4(list4);
			});
		};

		// DISPLAY DESCRIPTION
		function DisplayList4(list4) {
			var listDom = document.getElementById("recipeTitle");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			var item = document.createElement("p");
			listDom.appendChild(item);
			var node = document.createTextNode(list4);
			item.appendChild(node);
		}
	</script>

</body>
</html>