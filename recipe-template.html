<!DOCTYPE html>
<html>

<head>
	<title>Recipe Template</title>
	<style>
		@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,700');

		body {
			margin: 0;
			font-family: 'Roboto', sans-serif;
			background-image: url("../images/recipes-backgroud.jpg");
			background-repeat: no-repeat;
			background-size: cover;
			background-attachment: fixed;
		}

		.navBar {
			background-color: #ea3333;
			width: 100%;
			height: 100px;
			display: flex;
			align-items: center;
			align-content: center;
			justify-content: center;
			color: white;
		}

		.navDecoration {
			background-color: white;
			width: 100%;
			height: 5px;
		}

		.navBar>div {
			display: flex;
			align-items: flex-end;
			align-content: center;
			justify-content: space-between;
			width: 67%;
		}

		#logo {
			width: 70px;
			height: 70px;
			border-radius: 35px;
			background-color: white;
		}

		.buttonContainer {
			font-size: 18pt;
			width: 300px;
			display: flex;
			justify-content: space-between;
		}

		.button {
			display: flex;
			align-items: flex-end;
		}

		.recipeContainer {
			background-color: white;
			width: 62%;
			margin: 40px auto;
			padding: 50px 100px;
			display: flex;
			align-content: center;
			justify-content: center;
			flex-direction: column;
		}

		.recipeTop {
			display: flex;
			justify-content: space-between;
			width: 100%;
			margin-bottom: 30px;
		}

		#recipeTitle {
			font-weight: 700;
			font-size: 30pt;
			margin-bottom: 10px;
		}

		#recipeDescription {
			margin-top: 10px;
			font-weight: 300;
			width: 85%;
		}

		.recipeSelectorContainer {
			width: 80%;
			font-size: 18pt;
			margin: 0 auto 75px auto;
			display: flex;
			justify-content: space-around;
		}

		.buttonDivider {
			width: 2px;
			background-color: gray;
		}

		.pageLeft {
			display: flex;
			flex-direction: column;
			align-content: space-between;
			justify-content: space-between;
		}
	</style>
	<script src="/js/client.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyDRXRFtmA4E8vfJu9Zom2cugen5rYkSLHA",
			authDomain: "in-season-1740a.firebaseapp.com",
			databaseURL: "https://in-season-1740a.firebaseio.com",
			projectId: "in-season-1740a",
			storageBucket: "in-season-1740a.appspot.com",
			messagingSenderId: "78195948126"
		};
		firebase.initializeApp(config);
	</script>
</head>

<body>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	<div class="navBar">
		<div>
			<div class="logo"></div>
			<div class="buttonContainer">
				<div class="button" id="recipeNavButton">Recipes</div>
				<div class="button" id="ingredientsNavButton">Ingredients</div>
				<div class="button" id="ProfileNavButton">Profile</div>
			</div>
		</div>
	</div>
	<div class="navDecoration"></div>

	<div class="recipeContainer">
		<div class="recipeSelectorContainer">
			<b>
				<div id="recipeButton1">Recipe 1</div>
			</b>
			<div class="buttonDivider"></div>
			<b>
				<div id="recipeButton2">Recipe 2</div>
			</b>
			<div class="buttonDivider"></div>
			<b>
				<div id="recipeButton3">Recipe 3</div>
			</b>
			<b>
				<div id="recipeButton4">Recipe 4</div>
			</b>
			<b>
				<div id="recipeButton5">Recipe 5</div>
			</b>
		</div>

		<div class="recipeTop">

			<div class="pageLeft">
				<div>
					<div id="recipeTitle"><a id="getHTMLList">Recipe Title</a></div>
					<div id="recipeDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam laoreet in lectus a
						facilisis. Vestibulum tincidunt, diam non venenatis feugiat, mi ante cursus velit, quis mollis urna ipsum
						pharetra mi. Fusce a nunc libero. Vestibulum ante ipsum primis in faucibus.</div>
				</div>

				<div id="git">
					
				</div>
			</div>
			<div id="recipePic">
				<img src="https://dummyimage.com/425x260/000/fff" alt="Recipe image">
			</div>

		</div>

		<div>
			<h2>Ingredients</h2>
			<div id="ingdiv" class="ingredientsBody">
				<ul id="inglist">

				</ul>
			</div>
		</div>

		<div>
			<h2>Method</h2>
			<div id="stepDiv" class="methodBody">
				<ol id="stepList">

				</ol>
			</div>
		</div>
	</div>

	<script>
		// CLICK FOR RECIPE 1
		document.getElementById("recipeButton1").addEventListener("click",
			function () {
				GetList("Famous_Salsa");
				GetMethod("Famous_Salsa");
				GetDescription("Famous_Salsa");
				GetTitle("Famous_Salsa");
			});
		// ClICK FOR RECIPE 2
		document.getElementById("recipeButton2").addEventListener("click",
			function () {
				GetList("Creamy Au Gratin Potatoes");
				GetMethod("Creamy Au Gratin Potatoes");
				GetDescription("Creamy Au Gratin Potatoes");
				GetTitle("Creamy Au Gratin Potatoes");
			});
		// CLICK FOR RECIPE 3
		document.getElementById("recipeButton3").addEventListener("click",
			function () {
				GetList("Tomato_Basil_Soup");
				GetMethod("Tomato_Basil_Soup");
				GetDescription("Tomato_Basil_Soup");
				GetTitle("Tomato_Basil_Soup");
			});
		// CLICK FOR RECIPE 4
		document.getElementById("recipeButton4").addEventListener("click",
			function () {
				GetList("Loaded Crack Potatoes");
				GetMethod("Loaded Crack Potatoes");
				GetDescription("Loaded Crack Potatoes");
				GetTitle("Loaded Crack Potatoes");
			});
		// CLICK FOR RECIPE 5
		document.getElementById("recipeButton5").addEventListener("click",
			function () {
				GetList("Roasted Garlic Cauliflower");
				GetMethod("Roasted Garlic Cauliflower");
				GetDescription("Roasted Garlic Cauliflower");
				GetTitle("Roasted Garlic Cauliflower");
			});


		// GETTING THE DATABASE LIST
		function GetList(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Ingredients/");
			var promise = dbref.once('value', function (snap) {
				list = snap.val();
				console.log(list);
			});
			promise.then(function () {
				DisplayList(list);
			});
		};
		// DISPLAY LIST INGREDIENTS
		function DisplayList(list) {
			var listDom = document.getElementById("inglist");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			for (x in list) {
				var item = document.createElement("li");
				listDom.appendChild(item);
				var node = document.createTextNode(list[x]);
				item.appendChild(node);
			}
		}

		// GETTING THE DATABASE LIST
		function GetMethod(Method) {
			var dbref = firebase.database().ref("Recipes/" + Method + "/Methods");
			var promise = dbref.once('value', function (snap) {
				list2 = snap.val();
				console.log(list2);
			});
			promise.then(function () {
				DisplayList2(list2);
			});
		};

		// DISPLAY LIST METHODS FOR RECIPES
		function DisplayList2(list2) {
			var listDom2 = document.getElementById("stepList");
			while (listDom2.hasChildNodes()) {
				listDom2.removeChild(listDom2.firstChild);
			}
			for (x in list2) {
				var item2 = document.createElement("li");
				listDom2.appendChild(item2);
				var node2 = document.createTextNode(list2[x]);
				item2.appendChild(node2);
			}
		}
		// GETTING THE DATABASE LIST
		function GetDescription(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Description");
			var promise = dbref.once('value', function (snap) {
				list3 = snap.val();
				console.log(list3);
			});
			promise.then(function () {
				DisplayList3(list3);
			});
		};

		// DISPLAY DESCRIPTION
		function DisplayList3(list3) {
			var listDom = document.getElementById("recipeDescription");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			var item = document.createElement("p");
			listDom.appendChild(item);
			var node = document.createTextNode(list3);
			item.appendChild(node);
		}

		// GETTING THE DATABASE LIST
		function GetTitle(category) {
			var dbref = firebase.database().ref("Recipes/" + category + "/Title");
			var promise = dbref.once('value', function (snap) {
				list4 = snap.val();
				console.log(list4);
			});
			promise.then(function () {
				DisplayList4(list4);
			});
		};

		// DISPLAY DESCRIPTION
		function DisplayList4(list4) {
			var listDom = document.getElementById("recipeTitle");
			while (listDom.hasChildNodes()) {
				listDom.removeChild(listDom.firstChild);
			}
			var item = document.createElement("p");
			listDom.appendChild(item);
			var node = document.createTextNode(list4);
			item.appendChild(node);
		}
	</script>
</body>

</html>